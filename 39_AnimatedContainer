import 'package:flutter/material.dart';     // Flutter UI package

// Entry point of the app
void main() {
  runApp(MaterialApp(
    home: RangeSliderExample(),             // First page of app
  ));
}

// A StatefulWidget because values will change on button press
class RangeSliderExample extends StatefulWidget {
  @override
  _RangeSliderExampleState createState() => _RangeSliderExampleState();
}

class _RangeSliderExampleState extends State<RangeSliderExample> {
  
  // Range slider starting values (start=20, end=80)
  RangeValues _currentRange = RangeValues(20, 80);

  // AnimatedContainer starting size
  double _width = 400.0;
  double _height = 100.0;

  // Flag to toggle between two animation stages
  bool flag = true;

  // Default decoration for AnimatedContainer
  Decoration _boxDecoration = BoxDecoration(
    color: Colors.blue,                     // Default background color
    borderRadius: BorderRadius.circular(12),// Rounded corners
    boxShadow: [
      BoxShadow(
        color: Colors.black26,              // Shadow color
        blurRadius: 8,                      // Blur strength
        offset: Offset(0, 4),               // Shadow position
      ),
    ],
  );

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text("Range Slider Example"),// App bar title
      ),

      // Allows scrolling to prevent overflow
      body: SingleChildScrollView(
        child: Center(
          child: Column(
            mainAxisAlignment: MainAxisAlignment.center, // Align in center vertically
            children: [

              // AnimatedContainer → animates width, height, color, borderRadius, shadow, decoration
              AnimatedContainer(
                duration: Duration(milliseconds: 800),    // Animation speed
                width: _width,                            // Changing width
                height: _height,                          // Changing height
                curve: Curves.fastEaseInToSlowEaseOut,    // Animation curve (speed pattern)
                decoration: _boxDecoration,               // Animated decoration (color, radius, shadow)
              ),

              SizedBox(height: 50),                       // Space between widgets

              // Button to animate the container
              ElevatedButton(
                onPressed: () {
                  setState(() {                            // Refresh UI to show animation

                    if (flag) {                            // First click → first animation stage

                      _width = 600.0;                      // Increase width
                      _height = 200.0;                     // Increase height

                      // New decoration values
                      _boxDecoration = BoxDecoration(
                        color: Colors.red,                 // Animate to red
                        borderRadius: BorderRadius.circular(20),
                        boxShadow: [
                          BoxShadow(
                            color: Colors.redAccent.withOpacity(0.4),
                            blurRadius: 12,
                            offset: Offset(0, 6),
                          ),
                        ],
                      );

                      flag = false;                        // Switch state

                    } else {                               // Second click → second animation stage

                      _width = 400.0;                      // Change width
                      _height = 700.0;                     // Large height for animation

                      // Another decoration style
                      _boxDecoration = BoxDecoration(
                        color: Colors.purple,              // Animate to purple
                        borderRadius: BorderRadius.circular(40),
                        boxShadow: [
                          BoxShadow(
                            color: Colors.purple.withOpacity(0.4),
                            blurRadius: 12,
                            offset: Offset(0, 6),
                          ),
                        ],
                      );

                      flag = true;                         // Reset for next click
                    }
                  });
                },

                child: Text("Press Me"),                   // Button text
              ),
            ],
          ),
        ),
      ),
    );
  }
}
